{
  "openapi": "3.0.3",
  "info": {
    "title": "Kaburlu Backend API",
    "version": "1.0.0"
  },
  "servers": [
    {
      "url": "http://localhost:4000"
    },
    {
      "url": "https://influapi.kaburlumedia.com"
    }
  ],
  "tags": [
    {
      "name": "Health"
    },
    {
      "name": "Auth"
    },
    {
      "name": "Ads"
    },
    {
      "name": "Applications"
    },
    {
      "name": "Influencers"
    },
    {
      "name": "Posts"
    },
    {
      "name": "Profile Builder"
    },
    {
      "name": "Locations"
    },
    {
      "name": "Media"
    },
    {
      "name": "Brands"
    },
    {
      "name": "Uploads"
    },
    {
      "name": "Discovery"
    },
    {
      "name": "Categories"
    },
    {
      "name": "Bunny"
    },
    {
      "name": "Landing"
    }
  ],
  "paths": {
    "/api/public/influencers": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Public landing: list influencers with videos",
        "description": "Returns influencers with basic profile info (name, handle, profilePicUrl, badges) and their Bunny videos for landing pages.",
        "security": [],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 30
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": { "type": "integer" },
                    "limit": { "type": "integer" },
                    "offset": { "type": "integer" },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "idUlid": { "type": "string" },
                          "name": { "type": ["string", "null"] },
                          "handle": { "type": ["string", "null"] },
                          "handleDisplay": { "type": ["string", "null"] },
                          "profilePicUrl": { "type": ["string", "null"] },
                          "verificationStatus": { "type": "string" },
                          "badges": { "type": "array", "items": { "type": "string" } },
                          "badgeName": { "type": ["string", "null"] },
                          "bestVideo": {
                            "type": ["object", "null"],
                            "properties": {
                              "guid": { "type": "string" },
                              "playbackUrl": { "type": "string" },
                              "thumbnailUrl": { "type": ["string", "null"] },
                              "status": { "type": "string" },
                              "createdAt": { "type": "string", "format": "date-time" }
                            }
                          },
                          "videos": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "guid": { "type": "string" },
                                "playbackUrl": { "type": "string" },
                                "thumbnailUrl": { "type": ["string", "null"] },
                                "status": { "type": "string" },
                                "createdAt": { "type": "string", "format": "date-time" }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "total": 2,
                  "limit": 30,
                  "offset": 0,
                  "items": [
                    {
                      "idUlid": "01JFDZQ1Q9M8Y9S3B8E4X0E3GJ",
                      "name": "Asha",
                      "handle": "asha_creates",
                      "handleDisplay": "@asha_creates",
                      "profilePicUrl": "https://cdn.example.com/uploads/123/profile.jpg",
                      "verificationStatus": "verified",
                      "badges": ["Top Creator"],
                      "badgeName": "Top Creator",
                      "bestVideo": {
                        "guid": "bunny-guid-123",
                        "playbackUrl": "https://iframe.mediadelivery.net/embed/12345/bunny-guid-123",
                        "thumbnailUrl": "https://vz-123.b-cdn.net/thumbnail.jpg",
                        "status": "ready",
                        "createdAt": "2025-12-15T10:00:00.000Z"
                      },
                      "videos": [
                        {
                          "guid": "bunny-guid-123",
                          "playbackUrl": "https://iframe.mediadelivery.net/embed/12345/bunny-guid-123",
                          "thumbnailUrl": "https://vz-123.b-cdn.net/thumbnail.jpg",
                          "status": "ready",
                          "createdAt": "2025-12-15T10:00:00.000Z"
                        }
                      ]
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/public/landing": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Public landing: all landing sections",
        "description": "Returns landing page content sections (Trusted/Results/Testimonials) in one response.",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PublicLandingResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/trusted": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Public landing: trusted section",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LandingTrusted"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/case-studies": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Public landing: case studies / results section",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LandingResults"
                }
              }
            }
          }
        }
      }
    },
    "/api/public/testimonials": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Public landing: testimonials section",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LandingTestimonials"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health check",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": {
                      "type": "boolean"
                    },
                    "time": {
                      "type": "string",
                      "format": "date-time"
                    }
                  }
                },
                "example": {
                  "ok": true,
                  "time": "2025-12-14T11:16:10.684Z"
                }
              }
            }
          }
        }
      }
    },
    "/api": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health check",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": {
                      "type": "boolean"
                    },
                    "version": {
                      "type": "string"
                    }
                  }
                },
                "example": {
                  "ok": true,
                  "version": "kaburlu-backend-v2"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Register",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthRegisterRequest"
              },
              "examples": {
                "mpin": {
                  "summary": "Register with MPIN",
                  "value": {
                    "name": "Test User",
                    "phone": "8282868389",
                    "email": "test@example.com",
                    "mpin": "123456",
                    "role": "influencer"
                  }
                },
                "password": {
                  "summary": "Register with Password",
                  "value": {
                    "name": "Test User",
                    "phone": "8282868389",
                    "email": "test@example.com",
                    "password": "your-password",
                    "role": "influencer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login (password)",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthLoginRequest"
              },
              "examples": {
                "emailPassword": {
                  "summary": "Email + Password",
                  "value": {
                    "email": "test@example.com",
                    "password": "your-password"
                  }
                },
                "phonePassword": {
                  "summary": "Phone + Password",
                  "value": {
                    "phone": "8282868389",
                    "password": "your-password"
                  }
                },
                "emailMpin": {
                  "summary": "Email + MPIN",
                  "value": {
                    "email": "test@example.com",
                    "mpin": "123456"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/login-mobile": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login (mobile / MPIN flow)",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthMobileLoginRequest"
              },
              "example": {
                "phone": "8888888888",
                "mpin": "123456"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/google": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Login/Register with Google (ID token)",
        "description": "Mobile obtains a Google ID token (idToken) using Google Sign-In SDK and sends it here. For first-time users, include role. Server verifies token using GOOGLE_CLIENT_IDS / GOOGLE_CLIENT_ID env.",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthGoogleRequest"
              },
              "examples": {
                "loginExisting": {
                  "summary": "Existing user login",
                  "value": {
                    "idToken": "<google-id-token>"
                  }
                },
                "signupInfluencer": {
                  "summary": "First-time signup (influencer)",
                  "value": {
                    "idToken": "<google-id-token>",
                    "role": "influencer"
                  }
                },
                "signupBrand": {
                  "summary": "First-time signup (brand)",
                  "value": {
                    "idToken": "<google-id-token>",
                    "role": "brand",
                    "phone": "8282868389"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/api/auth/google/init": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Google Sign-In init (detect first-time signup)",
        "description": "Verifies a Google ID token. If the user already exists, returns a session. If first-time signup, returns a short-lived signupToken plus basic profile so the client can collect role + phone and call /api/auth/google/complete.",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthGoogleInitRequest"
              },
              "example": {
                "idToken": "<google-id-token>"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthGoogleInitResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Server Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/api/auth/google/complete": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Google Sign-In complete (collect role + phone)",
        "description": "Completes first-time Google signup using the signupToken from /api/auth/google/init and collects required onboarding fields.",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthGoogleCompleteRequest"
              },
              "examples": {
                "completeInfluencer": {
                  "summary": "Complete signup (influencer)",
                  "value": {
                    "signupToken": "<google-signup-token>",
                    "role": "influencer",
                    "phone": "8888888888"
                  }
                },
                "completeBrand": {
                  "summary": "Complete signup (brand)",
                  "value": {
                    "signupToken": "<google-signup-token>",
                    "role": "brand",
                    "phone": "8282868389"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/api/auth/request-mpin-reset": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Request MPIN reset",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MpinResetRequest"
              },
              "example": {
                "phone": "8282868389"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "requestId": { "type": "string" }
                  }
                },
                "example": {
                  "requestId": "req_4c2a8c8a2f3b1d0e"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/verify-mpin-reset": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Verify MPIN reset",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MpinResetVerifyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" }
                  }
                },
                "example": {
                  "success": true
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/refresh": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Refresh access token",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AuthRefreshRequest"
              },
              "example": {
                "refreshToken": "<refresh-token-from-login>"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Logout (invalidate refresh token)",
        "security": [],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": {
                      "type": "boolean"
                    }
                  }
                },
                "example": {
                  "ok": true
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/logout-all": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Logout all sessions",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": {
                      "type": "boolean"
                    }
                  }
                },
                "example": {
                  "ok": true
                }
              }
            }
          }
        }
      }
    },
    "/api/ads": {
      "get": {
        "tags": [
          "Ads"
        ],
        "summary": "List ads",
        "security": [],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Ad"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Ads"
        ],
        "summary": "Create ad (brand)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ad"
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/feed": {
      "post": {
        "tags": [
          "Ads"
        ],
        "summary": "Ads feed (filters)",
        "security": [],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdsFeedRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Ad"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/{id}": {
      "put": {
        "tags": [
          "Ads"
        ],
        "summary": "Update ad (brand)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Ad"
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/{id}/payment/initiate": {
      "post": {
        "tags": [
          "Ads"
        ],
        "summary": "Initiate payment (Razorpay)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentInitiateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentInitiateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/payment/confirm": {
      "post": {
        "tags": [
          "Ads"
        ],
        "summary": "Confirm payment",
        "security": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentConfirmRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                },
                "example": {
                  "success": true
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/{adId}/apply": {
      "post": {
        "tags": [
          "Applications"
        ],
        "summary": "Apply to an ad (influencer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "adId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplicationApplyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Application"
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/submit/{appId}": {
      "post": {
        "tags": [
          "Applications"
        ],
        "summary": "Submit deliverable (influencer)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "appId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeliverableSubmitRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Application"
                }
              }
            }
          }
        }
      }
    },
    "/api/applications/approve/{appId}": {
      "post": {
        "tags": [
          "Applications"
        ],
        "summary": "Approve and payout (brand/admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "appId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApproveAndPayoutResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Get current user influencer profile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerMe"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Update influencer profile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InfluencerUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerMe"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/dashboard": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Influencer dashboard",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me/profile-pic": {
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Update profile picture",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "imageUrl": {
                    "type": "string"
                  }
                },
                "required": [
                  "imageUrl"
                ]
              }
            },
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerMe"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me/pricing": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Get influencer pricing",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerPricing"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Update influencer pricing",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InfluencerPricing"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerPricing"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Influencers"
        ],
        "summary": "Update influencer pricing (alias)",
        "description": "Alias of PUT /api/influencers/me/pricing for clients that use POST.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/InfluencerPricing"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerPricing"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me/kyc": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Get KYC",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KycOutput"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Update KYC",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/KycInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KycOutput"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/kyc": {
      "get": {
        "tags": ["Admin"],
        "summary": "List influencer KYC by status",
        "security": [ { "bearerAuth": [] } ],
        "parameters": [ { "name": "status", "in": "query", "schema": { "type": "string" } } ],
        "responses": { "200": { "description": "OK" } }
      }
    },
    "/api/admin/kyc/{influencerId}": {
      "get": {
        "tags": ["Admin"],
        "summary": "Get influencer KYC",
        "security": [ { "bearerAuth": [] } ],
        "parameters": [ { "name": "influencerId", "in": "path", "required": true, "schema": { "type": "integer" } } ],
        "responses": { "200": { "description": "OK" }, "404": { "description": "Not found" } }
      }
    },
    "/api/admin/kyc/{influencerId}/status": {
      "put": {
        "tags": ["Admin"],
        "summary": "Set KYC status (verified/rejected/pending)",
        "security": [ { "bearerAuth": [] } ],
        "parameters": [ { "name": "influencerId", "in": "path", "required": true, "schema": { "type": "integer" } } ],
        "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "status": { "type": "string" }, "reason": { "type": "string" } }, "required": ["status"] } } } },
        "responses": { "200": { "description": "OK" }, "404": { "description": "Not found" } }
      }
    },
    
    "/api/influencers/me/payment-methods/{id}": {
      "delete": { "tags": ["Influencers"], "summary": "Delete my payment method", "security": [ { "bearerAuth": [] } ], "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } } ], "responses": { "200": { "description": "OK" }, "404": { "description": "Not found" } } }
    },
    "/api/influencers/me/payment-methods/{id}/preferred": {
      "put": { "tags": ["Influencers"], "summary": "Set preferred payment method", "security": [ { "bearerAuth": [] } ], "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } } ], "responses": { "200": { "description": "OK" }, "404": { "description": "Not found" } } }
    },
    "/api/admin/payments": {
      "get": { "tags": ["Admin"], "summary": "List payment methods", "security": [ { "bearerAuth": [] } ], "parameters": [ { "name": "status", "in": "query", "schema": { "type": "string" } } ], "responses": { "200": { "description": "OK" } } }
    },
    "/api/admin/payments/{id}/status": {
      "put": { "tags": ["Admin"], "summary": "Set payment method status", "security": [ { "bearerAuth": [] } ], "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } } ], "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "object", "properties": { "status": { "type": "string" } }, "required": ["status"] } } } }, "responses": { "200": { "description": "OK" }, "404": { "description": "Not found" } } }
    },
    "/api/influencers/me/payment-methods": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "List payment methods",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/PaymentMethod"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Upsert payment method",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentMethodInput"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "method": {
                      "$ref": "#/components/schemas/PaymentMethod"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/{id}/badges": {
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Assign influencer badges (admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "badges": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  }
                },
                "required": [
                  "badges"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/{id}/ads": {
      "post": {
        "tags": [
          "Influencers"
        ],
        "summary": "Create influencer ad post",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/{id}/feed": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Influencer feed",
        "security": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Post"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/ads": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Public influencer ads",
        "security": [],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Post"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/ads/media": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "Public influencer ad media (canonical)",
        "security": [],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "influencerUlid",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "postUlid",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "adUlid",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InfluencerAdMediaItem"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me/ads/media": {
      "get": {
        "tags": [
          "Influencers"
        ],
        "summary": "My influencer ad media (canonical)",
        "description": "Returns the same response shape as /api/influencers/ads/media but only for the authenticated influencer.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "postUlid",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "adUlid",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "language",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "category",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InfluencerAdMediaItem"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me/ads/video/init": {
      "post": {
        "tags": [
          "Influencers"
        ],
        "summary": "Init Bunny video upload for own ad post (preferred)",
        "description": "Step 1/2. Creates a Bunny Stream video record and attaches it to the influencer's ad post. Returns a server upload endpoint that accepts raw bytes (no multipart).",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "postUlid": { "type": "string" },
                  "title": { "type": "string" },
                  "description": { "type": "string" },
                  "caption": { "type": "string" },
                  "thumbnailUrl": { "type": "string" },
                  "category": { "type": "string" },
                  "categoryCode": { "type": "string" }
                }
              },
              "example": {
                "title": "My Ad Video",
                "caption": "Short caption",
                "category": "1"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "guid": { "type": "string" },
                    "playbackUrl": { "type": "string" },
                    "postIdUlid": { "type": "string" },
                    "mediaUlid": { "type": "string" },
                    "uploadEndpoint": { "type": "string" },
                    "maxBytes": { "type": "integer" }
                  }
                }
              }
            }
          },
          "201": {
            "description": "Created (a new ad post was created)"
          }
        }
      }
    },
    "/api/influencers/me/ads/video/{guid}/upload": {
      "put": {
        "tags": [
          "Influencers"
        ],
        "summary": "Upload video bytes to Bunny via server (preferred)",
        "description": "Step 2/2. Uploads raw bytes (application/octet-stream) to the server, which streams them to Bunny Stream. This avoids multipart parsing issues on Windows/PowerShell.\n\nExample (PowerShell):\n- `curl.exe -X PUT -H \"Authorization: Bearer <TOKEN>\" -H \"Content-Type: application/octet-stream\" --upload-file \"ad-video.mp4\" http://localhost:4000/api/influencers/me/ads/video/<GUID>/upload`",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "guid",
            "in": "path",
            "required": true,
            "schema": { "type": "string" }
          },
          {
            "name": "Content-Length",
            "in": "header",
            "required": true,
            "schema": { "type": "integer" },
            "description": "Required for streaming uploads. Most clients (curl --upload-file) set this automatically."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/octet-stream": {
              "schema": {
                "type": "string",
                "format": "binary"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "guid": { "type": "string" },
                    "status": { "type": "string" },
                    "playbackUrl": { "type": "string" },
                    "sizeBytes": { "type": "integer" },
                    "bunnyMetaUpdated": { "type": "boolean" }
                  }
                }
              }
            }
          },
          "404": { "description": "Not found (video_not_initialized)" },
          "411": { "description": "Content-Length required" },
          "413": { "description": "File too large" },
          "502": { "description": "Upstream Bunny error" }
        }
      }
    },
    "/api/influencers/me/ads/video": {
      "post": {
        "tags": [
          "Influencers"
        ],
        "summary": "Upload Bunny video for own ad post",
        "description": "Uploads a video file to Bunny Stream and attaches it to the influencer's ad post (single-call multipart).\n\nRecommended (more reliable): use the 2-step flow: `POST /api/influencers/me/ads/video/init` then `PUT /api/influencers/me/ads/video/{guid}/upload` with `application/octet-stream` (no multipart).\n\nImportant (Windows/PowerShell): use `curl.exe` and DO NOT manually set the `Content-Type: multipart/form-data` header (curl must include a boundary). The server attempts to recover missing boundary when possible, but correct clients are still recommended. Filenames containing `#` or spaces can also break shell commands; rename the file (e.g. `ad-video.mp4`) while testing.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  },
                  "title": {
                    "type": "string"
                  },
                  "caption": {
                    "type": "string"
                  },
                  "thumbnailUrl": {
                    "type": "string"
                  },
                  "postUlid": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string"
                  },
                  "categoryCode": {
                    "type": "string"
                  }
                },
                "required": [
                  "file"
                ]
              },
              "example": {
                "title": "My Ad Video",
                "caption": "Short caption",
                "category": "1"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK (attached to existing ad post)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerAdVideoUploadResponse"
                }
              }
            }
          },
          "201": {
            "description": "Created (a new ad post was created)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InfluencerAdVideoUploadResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "413": {
            "description": "File too large",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "502": {
            "description": "Upstream Bunny error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/influencers/me/ads/video/{guid}": {
      "delete": {
        "tags": [
          "Influencers"
        ],
        "summary": "Delete own Bunny ad video",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "guid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": { "type": "boolean" },
                    "guid": { "type": "string" },
                    "bunnyDeleted": { "type": "boolean" },
                    "bunnyStatus": { "type": "integer" }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "502": {
            "description": "Upstream Bunny error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/posts": {
      "post": {
        "tags": [
          "Posts"
        ],
        "summary": "Create post",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePostRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/posts/feed": {
      "get": {
        "tags": [
          "Posts"
        ],
        "summary": "Posts feed",
        "security": [],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "category",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "state",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "language",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "type",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "items": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Post"
                      }
                    },
                    "nextCursor": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/posts/{idUlid}": {
      "get": {
        "tags": [
          "Posts"
        ],
        "summary": "Get post by ULID",
        "security": [],
        "parameters": [
          {
            "name": "idUlid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Post"
                }
              }
            }
          }
        }
      }
    },
    "/api/posts/{idUlid}/video": {
      "post": {
        "tags": [
          "Posts"
        ],
        "summary": "Create Bunny video for post",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "idUlid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BunnyCreateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/profile-builder/generate": {
      "post": {
        "tags": [
          "Profile Builder"
        ],
        "summary": "Generate profile pack",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "niche": { "type": "string" },
                  "city": { "type": "string" }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfilePack"
                }
              }
            }
          }
        }
      }
    },
    "/api/profile-builder/generate-photos": {
      "post": {
        "tags": [
          "Profile Builder"
        ],
        "summary": "Generate influencer photos (SEO-friendly)",
        "security": [ { "bearerAuth": [] } ],
        "requestBody": {
          "required": false,
          "content": { "application/json": { "schema": { "type": "object", "properties": { "prompt": { "type": "string" }, "count": { "type": "integer", "minimum": 1, "maximum": 4 } } } } }
        },
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "type": "object", "properties": { "images": { "type": "array", "items": { "type": "object", "properties": { "b64": { "type": "string", "description": "base64 PNG" } } } } } } } } },
          "400": { "description": "OpenAI not configured" }
        }
      }
    },
    "/api/profile-builder/pack/{id}/photos": {
      "post": {
        "tags": [
          "Profile Builder"
        ],
        "summary": "Add photo URL to profile pack (SEO)",
        "security": [ { "bearerAuth": [] } ],
        "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } } ],
        "requestBody": {
          "required": true,
          "content": { "application/json": { "schema": { "type": "object", "properties": { "imageUrl": { "type": "string" }, "title": { "type": "string" }, "caption": { "type": "string" }, "items": { "type": "array", "items": { "type": "object", "properties": { "imageUrl": { "type": "string" }, "title": { "type": "string" }, "caption": { "type": "string" } }, "required": ["imageUrl"] } } }, "oneOf": [ { "required": ["imageUrl"] }, { "required": ["items"] } ] } } }
        },
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "type": "object", "properties": { "ok": { "type": "boolean" }, "count": { "type": "integer" }, "images": { "type": "object" } } } } } },
          "404": { "description": "Pack not found" }
        }
      },
      "get": {
        "tags": [ "Profile Builder" ],
        "summary": "List pack photos",
        "parameters": [ { "name": "id", "in": "path", "required": true, "schema": { "type": "string" } } ],
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "type": "object", "properties": { "avatar": { "type": "string", "nullable": true }, "gallery": { "type": "array", "items": { "type": "object", "properties": { "url": { "type": "string" }, "title": { "type": "string" }, "caption": { "type": "string" }, "alt": { "type": "string" }, "jsonLd": { "type": "object" } } } } } } } } },
          "404": { "description": "Pack not found" }
        }
      }
    },
    "/api/profile-builder/pack/{id}": {
      "get": {
        "tags": [
          "Profile Builder"
        ],
        "summary": "Get profile pack",
        "security": [],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProfilePack"
                }
              }
            }
          },
          "404": { "description": "Not found" }
        }
      }
    },
    "/api/locations/countries": {
      "get": {
        "tags": [
          "Locations"
        ],
        "summary": "List countries",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Country"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/locations/states": {
      "get": {
        "tags": [
          "Locations"
        ],
        "summary": "List states",
        "security": [],
        "parameters": [
          {
            "name": "countryId",
            "in": "query",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/State"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/locations/districts": {
      "get": {
        "tags": [
          "Locations"
        ],
        "summary": "List districts",
        "security": [],
        "parameters": [
          {
            "name": "stateId",
            "in": "query",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/District"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/locations/languages": {
      "get": {
        "tags": [
          "Locations"
        ],
        "summary": "List languages",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Language"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/locations/bulk/states": {
      "post": {
        "tags": [
          "Locations"
        ],
        "summary": "Bulk upload states CSV (admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/locations/bulk/districts": {
      "post": {
        "tags": [
          "Locations"
        ],
        "summary": "Bulk upload districts CSV (admin)",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/media/upload": {
      "post": {
        "tags": [
          "Media"
        ],
        "summary": "Upload media to R2",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MediaUploadResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/brands/dashboard": {
      "get": {
        "tags": [
          "Brands"
        ],
        "summary": "Brand dashboard",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/uploads/r2/sign": {
      "post": {
        "tags": [
          "Uploads"
        ],
        "summary": "Sign R2 upload",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/R2SignRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/R2SignResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/uploads/bunny/video": {
      "post": {
        "tags": [
          "Uploads"
        ],
        "summary": "Create Bunny Stream video entry",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BunnyCreateResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/discovery/influencers": {
      "get": {
        "tags": [
          "Discovery"
        ],
        "summary": "Search influencers",
        "security": [],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DiscoveryInfluencer"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/categories": {
      "get": {
        "tags": [
          "Categories"
        ],
        "summary": "List categories",
        "security": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Category"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/bunny/videos": {
      "get": {
        "tags": [
          "Bunny"
        ],
        "summary": "Admin: list Bunny videos",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "perPage",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          },
          {
            "name": "search",
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/bunny/videos/{guid}": {
      "delete": {
        "tags": [
          "Bunny"
        ],
        "summary": "Admin: delete Bunny video",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "guid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": { "type": "boolean" },
                    "guid": { "type": "string" },
                    "bunnyDeleted": { "type": "boolean" },
                    "bunnyStatus": { "type": "integer" },
                    "dbDeleted": { "type": "boolean" }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "502": {
            "description": "Upstream Bunny error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/landing": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: list landing content keys",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingListResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: create landing content key",
        "description": "Creates a new landing content entry. Prefer `PUT /api/admin/landing/{key}` if you want idempotent create/update.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLandingCreateRequest"
              },
              "example": {
                "key": "trusted",
                "data": {
                  "logos": [],
                  "highlights": [],
                  "cases": []
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingCreateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/landing/{key}": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: get landing content by key",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingGetResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: create landing content by key",
        "description": "Create-only endpoint. Use this when you want `POST /api/admin/landing/trusted` style calls. Returns 409 if the key already exists.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLandingUpsertRequest"
              },
              "example": {
                "data": {
                  "logos": [],
                  "highlights": [],
                  "cases": []
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingCreateResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Already exists",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: upsert landing content by key",
        "description": "Stores JSON content under a key. Body can be any JSON object, or `{ data: ... }`.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLandingUpsertRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK (updated)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingUpsertResponse"
                }
              }
            }
          },
          "201": {
            "description": "Created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingUpsertResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: update landing content by key (partial)",
        "description": "Updates an existing key using a shallow merge. Body can be any JSON object, or `{ data: ... }`.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLandingPatchRequest"
              },
              "example": {
                "data": {
                  "title": "Updated landing title"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingPatchResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: delete landing content by key",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "ok": { "type": "boolean" },
                    "key": { "type": "string" }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/admin/landing/trusted": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: get trusted section",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminLandingGetResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } }
          },
          "403": {
            "description": "Forbidden",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } }
          },
          "404": {
            "description": "Not found",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } }
          }
        }
      },
      "post": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: create trusted section",
        "description": "Create-only endpoint for the trusted section. Returns 409 if it already exists.",
        "security": [
          { "bearerAuth": [] }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdminLandingUpsertRequest" },
              "example": {
                "data": {
                  "logos": [
                    { "src": "https://cdn.example.com/brands/alpha.svg", "alt": "Alpha" }
                  ],
                  "highlights": [
                    { "k": "Avg ROAS lift", "v": "+42%" }
                  ],
                  "cases": []
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Created", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingCreateResponse" } } } },
          "400": { "description": "Bad request", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "409": { "description": "Already exists", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "put": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: upsert trusted section",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminLandingUpsertRequest"
              },
              "example": {
                "data": {
                  "logos": [
                    { "src": "https://cdn.example.com/brands/alpha.svg", "alt": "Alpha" }
                  ],
                  "highlights": [
                    { "k": "Avg ROAS lift", "v": "+42%" }
                  ],
                  "cases": [
                    { "brand": "Alpha", "title": "3.9x ROAS on Reels", "metric": "+290% conv.", "platform": "Instagram" }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK (updated)",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingUpsertResponse" } } }
          },
          "201": {
            "description": "Created",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingUpsertResponse" } } }
          },
          "400": {
            "description": "Bad request",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } }
          },
          "401": {
            "description": "Unauthorized",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } }
          },
          "403": {
            "description": "Forbidden",
            "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } }
          }
        }
      },
      "delete": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: delete trusted section",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": { "application/json": { "schema": { "type": "object", "properties": { "ok": { "type": "boolean" }, "key": { "type": "string" } } } } }
          },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "404": { "description": "Not found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      }
    },
    "/api/admin/landing/case-studies": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: get case studies section",
        "security": [
          { "bearerAuth": [] }
        ],
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingGetResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "404": { "description": "Not found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "post": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: create case studies section",
        "description": "Create-only endpoint for case studies. Returns 409 if it already exists.",
        "security": [
          { "bearerAuth": [] }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdminLandingUpsertRequest" },
              "example": {
                "data": {
                  "title": "Results brands can repeat",
                  "subtitle": "Hearttouching stories, measurable outcomes.",
                  "items": []
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Created", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingCreateResponse" } } } },
          "400": { "description": "Bad request", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "409": { "description": "Already exists", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "put": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: upsert case studies section",
        "security": [
          { "bearerAuth": [] }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdminLandingUpsertRequest" },
              "example": {
                "data": {
                  "title": "Results brands can repeat",
                  "subtitle": "Hearttouching stories, measurable outcomes.",
                  "items": [
                    {
                      "brand": "Orbit",
                      "logo": "https://cdn.example.com/brands/orbit.png",
                      "goal": "Conversions",
                      "summary": "UGC + creator whitelisting + landing tests",
                      "result": ["3.2x ROAS", "+41% CVR", "-18% CPA"],
                      "image": "https://cdn.example.com/case-studies/orbit.jpg",
                      "playbook": "UGC + creators + landing optimization",
                      "brandSlug": "orbit"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "OK (updated)", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingUpsertResponse" } } } },
          "201": { "description": "Created", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingUpsertResponse" } } } },
          "400": { "description": "Bad request", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "delete": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: delete case studies section",
        "security": [
          { "bearerAuth": [] }
        ],
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "type": "object", "properties": { "ok": { "type": "boolean" }, "key": { "type": "string" } } } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "404": { "description": "Not found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      }
    },
    "/api/admin/landing/testimonials": {
      "get": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: get testimonials section",
        "security": [
          { "bearerAuth": [] }
        ],
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingGetResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "404": { "description": "Not found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "post": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: create testimonials section",
        "description": "Create-only endpoint for testimonials. Returns 409 if it already exists.",
        "security": [
          { "bearerAuth": [] }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdminLandingUpsertRequest" },
              "example": {
                "data": {
                  "title": "What teams say",
                  "subtitle": "Real feedback from brands and partners.",
                  "items": []
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Created", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingCreateResponse" } } } },
          "400": { "description": "Bad request", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "409": { "description": "Already exists", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "put": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: upsert testimonials section",
        "security": [
          { "bearerAuth": [] }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdminLandingUpsertRequest" },
              "example": {
                "data": {
                  "title": "What teams say",
                  "subtitle": "Real feedback from brands and partners.",
                  "items": [
                    {
                      "q": "Kaburlu helped us find perfect creators in days, not weeks.",
                      "a": "Growth Lead",
                      "company": "Orbit",
                      "avatar": "https://cdn.example.com/people/growth-lead.jpg",
                      "logo": "https://cdn.example.com/brands/orbit.png"
                    }
                  ]
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "OK (updated)", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingUpsertResponse" } } } },
          "201": { "description": "Created", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdminLandingUpsertResponse" } } } },
          "400": { "description": "Bad request", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      },
      "delete": {
        "tags": [
          "Landing"
        ],
        "summary": "Admin: delete testimonials section",
        "security": [
          { "bearerAuth": [] }
        ],
        "responses": {
          "200": { "description": "OK", "content": { "application/json": { "schema": { "type": "object", "properties": { "ok": { "type": "boolean" }, "key": { "type": "string" } } } } } },
          "401": { "description": "Unauthorized", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "403": { "description": "Forbidden", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } },
          "404": { "description": "Not found", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } } } }
        }
      }
    },
    "/api/admin/bunny/media/status-counts": {
      "get": {
        "tags": [
          "Bunny"
        ],
        "summary": "Admin: media status counts",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "counts": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "integer"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/posts/{idUlid}/playback": {
      "get": {
        "tags": [
          "Bunny"
        ],
        "summary": "Public: post playback info",
        "security": [],
        "parameters": [
          {
            "name": "idUlid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/bunny/videos/{guid}/status": {
      "get": {
        "tags": [
          "Bunny"
        ],
        "summary": "Public: Bunny video status",
        "security": [],
        "parameters": [
          {
            "name": "guid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          },
          "details": {
            "type": "string"
          }
        }
      },
      "LandingTrusted": {
        "type": "object",
        "properties": {
          "logos": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "src": { "type": "string" },
                "alt": { "type": "string" }
              }
            }
          },
          "highlights": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "k": { "type": "string" },
                "v": { "type": "string" }
              }
            }
          },
          "cases": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "brand": { "type": "string" },
                "title": { "type": "string" },
                "metric": { "type": "string" },
                "platform": { "type": "string" }
              }
            }
          }
        }
      },
      "LandingResults": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "subtitle": { "type": "string" },
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "brand": { "type": "string" },
                "logo": { "type": "string" },
                "goal": { "type": "string" },
                "summary": { "type": "string" },
                "result": { "type": "array", "items": { "type": "string" } },
                "image": { "type": "string" },
                "playbook": { "type": "string" },
                "brandSlug": { "type": "string" }
              }
            }
          }
        }
      },
      "LandingTestimonials": {
        "type": "object",
        "properties": {
          "title": { "type": "string" },
          "subtitle": { "type": "string" },
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "q": { "type": "string" },
                "a": { "type": "string" },
                "company": { "type": "string" },
                "avatar": { "type": "string" },
                "logo": { "type": "string" }
              }
            }
          }
        }
      },
      "PublicLandingResponse": {
        "type": "object",
        "properties": {
          "trusted": { "$ref": "#/components/schemas/LandingTrusted" },
          "results": { "$ref": "#/components/schemas/LandingResults" },
          "testimonials": { "$ref": "#/components/schemas/LandingTestimonials" }
        }
      },
      "AdminLandingListResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "key": { "type": "string" },
                "ulid": { "type": "string" },
                "createdAt": { "type": "string", "format": "date-time" },
                "updatedAt": { "type": "string", "format": "date-time" }
              }
            }
          }
        }
      },
      "AdminLandingGetResponse": {
        "type": "object",
        "properties": {
          "key": { "type": "string" },
          "ulid": { "type": "string" },
          "data": { "type": "object" },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "AdminLandingUpsertRequest": {
        "type": "object",
        "properties": {
          "data": { "type": "object" }
        },
        "required": [
          "data"
        ]
      },
      "AdminLandingUpsertResponse": {
        "type": "object",
        "properties": {
          "ok": { "type": "boolean" },
          "key": { "type": "string" },
          "data": { "type": "object" },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "AdminLandingCreateRequest": {
        "type": "object",
        "properties": {
          "key": { "type": "string" },
          "data": { "type": "object" }
        },
        "required": [
          "key",
          "data"
        ]
      },
      "AdminLandingCreateResponse": {
        "type": "object",
        "properties": {
          "ok": { "type": "boolean" },
          "key": { "type": "string" },
          "data": { "type": "object" },
          "createdAt": { "type": "string", "format": "date-time" }
        }
      },
      "JsonPatchOperation": {
        "type": "object",
        "properties": {
          "op": { "type": "string", "enum": ["add", "replace", "remove"] },
          "path": { "type": "string", "description": "JSON Pointer path (RFC6901). Use '/logos/-' to append to the logos array." },
          "value": { "description": "Required for add/replace.", "nullable": true }
        },
        "required": ["op", "path"]
      },
      "AdminLandingPatchRequest": {
        "description": "Partial update payload. Supports either (1) shallow merge of an object, or (2) JSON Patch operations array for array appends/replacements.",
        "oneOf": [
          {
            "type": "object",
            "description": "Shallow merge. Body can be any JSON object, or `{ data: ... }`.",
            "properties": {
              "data": { "type": "object" }
            },
            "example": {
              "data": {
                "highlights": [
                  { "k": "Avg ROAS lift", "v": "+42%" }
                ]
              }
            }
          },
          {
            "type": "array",
            "description": "JSON Patch (RFC6902) operation list. Useful to append to arrays without overwriting them.",
            "items": { "$ref": "#/components/schemas/JsonPatchOperation" },
            "example": [
              {
                "op": "add",
                "path": "/logos/-",
                "value": {
                  "src": "https://cdn.example.com/brands/vedic-hivery.jpg",
                  "alt": "Vedic Hivery"
                }
              }
            ]
          }
        ]
      },
      "AdminLandingPatchResponse": {
        "type": "object",
        "properties": {
          "ok": { "type": "boolean" },
          "key": { "type": "string" },
          "data": { "type": "object" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "AuthRegisterRequest": {
        "description": "Register with either `mpin` (6 digits) or `password`.",
        "oneOf": [
          {
            "type": "object",
            "required": [
              "phone",
              "mpin",
              "role"
            ],
            "properties": {
              "name": { "type": "string" },
              "phone": { "type": "string" },
              "email": { "type": "string" },
              "mpin": { "type": "string", "description": "6-digit MPIN" },
              "role": { "type": "string", "enum": ["influencer", "brand"] }
            },
            "example": {
              "name": "Test User",
              "phone": "8282868389",
              "email": "test@example.com",
              "mpin": "123456",
              "role": "influencer"
            }
          },
          {
            "type": "object",
            "required": [
              "phone",
              "password",
              "role"
            ],
            "properties": {
              "name": { "type": "string" },
              "phone": { "type": "string" },
              "email": { "type": "string" },
              "password": { "type": "string" },
              "role": { "type": "string", "enum": ["influencer", "brand"] }
            },
            "example": {
              "name": "Test User",
              "phone": "8282868389",
              "email": "test@example.com",
              "password": "your-password",
              "role": "influencer"
            }
          }
        ]
      },
      "AuthLoginRequest": {
        "description": "Login using either email or phone, plus either password or mpin.",
        "oneOf": [
          {
            "type": "object",
            "required": ["email", "password"],
            "properties": {
              "email": { "type": "string" },
              "password": { "type": "string" }
            }
          },
          {
            "type": "object",
            "required": ["email", "mpin"],
            "properties": {
              "email": { "type": "string" },
              "mpin": { "type": "string", "description": "6-digit MPIN" }
            }
          },
          {
            "type": "object",
            "required": ["phone", "password"],
            "properties": {
              "phone": { "type": "string" },
              "password": { "type": "string" }
            }
          },
          {
            "type": "object",
            "required": ["phone", "mpin"],
            "properties": {
              "phone": { "type": "string" },
              "mpin": { "type": "string", "description": "6-digit MPIN" }
            }
          }
        ]
      },
      "AuthMobileLoginRequest": {
        "type": "object",
        "properties": {
          "phone": {
            "type": "string"
          },
          "mpin": {
            "type": "string"
          },
          "otp": {
            "type": "string"
          }
        }
      },
      "AuthGoogleRequest": {
        "type": "object",
        "required": [
          "idToken"
        ],
        "properties": {
          "idToken": {
            "type": "string",
            "description": "Google ID token obtained from Google Sign-In SDK."
          },
          "role": {
            "type": "string",
            "enum": ["influencer", "brand", "admin"],
            "description": "Required only for first-time signup. Ignored for existing users."
          },
          "phone": {
            "type": "string",
            "description": "Optional phone to store during first-time signup."
          }
        }
      },
      "AuthGoogleInitRequest": {
        "type": "object",
        "required": [
          "idToken"
        ],
        "properties": {
          "idToken": {
            "type": "string",
            "description": "Google ID token obtained from Google Sign-In SDK."
          }
        }
      },
      "AuthGoogleInitResponse": {
        "oneOf": [
          {
            "type": "object",
            "required": [
              "signupRequired",
              "session"
            ],
            "properties": {
              "signupRequired": { "type": "boolean", "enum": [false] },
              "session": { "$ref": "#/components/schemas/AuthResponse" }
            }
          },
          {
            "type": "object",
            "required": [
              "signupRequired",
              "signupToken",
              "profile"
            ],
            "properties": {
              "signupRequired": { "type": "boolean", "enum": [true] },
              "signupToken": { "type": "string", "description": "Short-lived token to be used with /api/auth/google/complete." },
              "profile": {
                "type": "object",
                "required": [
                  "email"
                ],
                "properties": {
                  "email": { "type": "string" },
                  "name": { "type": ["string", "null"] },
                  "picture": { "type": ["string", "null"] }
                }
              }
            }
          }
        ]
      },
      "AuthGoogleCompleteRequest": {
        "type": "object",
        "required": [
          "signupToken",
          "role",
          "phone"
        ],
        "properties": {
          "signupToken": {
            "type": "string",
            "description": "signupToken returned from /api/auth/google/init"
          },
          "role": {
            "type": "string",
            "enum": ["influencer", "brand", "admin"]
          },
          "phone": {
            "type": "string"
          }
        }
      },
      "AuthRefreshRequest": {
        "type": "object",
        "required": [
          "refreshToken"
        ],
        "properties": {
          "refreshToken": {
            "type": "string"
          }
        }
      },
      "MpinResetRequest": {
        "type": "object",
        "required": [
          "phone"
        ],
        "properties": {
          "phone": {
            "type": "string"
          }
        }
      },
      "MpinResetVerifyRequest": {
        "description": "Accepts either `otp` or legacy `code` for the 6-digit verification value.",
        "oneOf": [
          {
            "type": "object",
            "required": [
              "phone",
              "otp",
              "newMpin"
            ],
            "properties": {
              "phone": { "type": "string" },
              "otp": { "type": "string", "description": "6-digit OTP sent to the phone." },
              "newMpin": { "type": "string", "description": "New 6-digit MPIN to set." }
            },
            "example": {
              "phone": "8282868389",
              "otp": "856349",
              "newMpin": "123456"
            }
          },
          {
            "type": "object",
            "required": [
              "phone",
              "code",
              "newMpin"
            ],
            "properties": {
              "phone": { "type": "string" },
              "code": { "type": "string", "description": "Alias for `otp` (supported for backward compatibility)." },
              "newMpin": { "type": "string", "description": "New 6-digit MPIN to set." }
            },
            "example": {
              "phone": "8282868389",
              "code": "856349",
              "newMpin": "123456"
            }
          }
        ]
      },
      "AuthResponse": {
        "type": "object",
        "properties": {
          "accessToken": { "type": "string" },
          "token": { "type": "string", "description": "Alias for accessToken (backward compatibility)." },
          "expiresIn": { "type": "integer" },
          "expiresAt": { "type": "string", "format": "date-time" },
          "refreshToken": { "type": "string" },
          "refreshExpiresAt": { "type": "string", "format": "date-time" },
          "user": { "$ref": "#/components/schemas/User" }
        },
        "example": {
          "accessToken": "<jwt>",
          "token": "<jwt>",
          "expiresIn": 900,
          "expiresAt": "2025-12-15T10:15:00.000Z",
          "refreshToken": "<refresh-token>",
          "refreshExpiresAt": "2025-12-22T10:00:00.000Z",
          "user": { "id": 1, "role": "influencer" }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "role": {
            "type": "string"
          },
          "name": {
            "type": ["string", "null"]
          },
          "email": {
            "type": ["string", "null"]
          },
          "phone": {
            "type": ["string", "null"]
          },
          "influencer": {
            "type": ["object", "null"],
            "description": "Present when the logged-in user role is influencer. Includes summary KYC/payment/profile flags for mobile onboarding.",
            "properties": {
              "id": { "type": "integer" },
              "ulid": { "type": "string" },
              "handle": { "type": ["string", "null"] },
              "profilePicUrl": { "type": ["string", "null"] },
              "hasProfilePic": { "type": "boolean" },
              "verificationStatus": { "type": "string" },
              "kyc": {
                "type": "object",
                "properties": {
                  "status": { "type": "string", "description": "none|pending|verified|rejected" },
                  "isComplete": { "type": "boolean" },
                  "askKyc": { "type": "boolean" }
                }
              },
              "payment": {
                "type": "object",
                "properties": {
                  "status": { "type": "string", "description": "none|unverified|verified|rejected" },
                  "type": { "type": ["string", "null"], "description": "bank|upi" },
                  "hasMethod": { "type": "boolean" },
                  "isVerified": { "type": "boolean" },
                  "isPreferredSet": { "type": "boolean" },
                  "bankAccountNumberMasked": { "type": ["string", "null"] },
                  "upiIdMasked": { "type": ["string", "null"] }
                }
              }
            }
          }
        }
      },
      "Ad": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "targetStates": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string"
          },
          "payPerInfluencer": {
            "type": "number"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "AdCreateRequest": {
        "type": "object",
        "required": [
          "title",
          "description"
        ],
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "targetStates": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string"
          },
          "payPerInfluencer": {
            "type": "number"
          }
        }
      },
      "AdUpdateRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "targetStates": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string"
          },
          "payPerInfluencer": {
            "type": "number"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "AdsFeedRequest": {
        "type": "object",
        "properties": {
          "language": {
            "type": "string"
          },
          "states": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "page": {
            "type": "integer",
            "default": 1
          },
          "limit": {
            "type": "integer",
            "default": 20
          }
        }
      },
      "PaymentInitiateRequest": {
        "type": "object",
        "required": [
          "amount",
          "currency"
        ],
        "properties": {
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string",
            "example": "INR"
          }
        }
      },
      "PaymentInitiateResponse": {
        "type": "object",
        "properties": {
          "orderId": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "currency": {
            "type": "string"
          },
          "keyId": {
            "type": "string"
          }
        }
      },
      "PaymentConfirmRequest": {
        "type": "object",
        "required": [
          "orderId",
          "paymentId",
          "signature"
        ],
        "properties": {
          "orderId": {
            "type": "string"
          },
          "paymentId": {
            "type": "string"
          },
          "signature": {
            "type": "string"
          }
        }
      },
      "Application": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "adId": {
            "type": "integer"
          },
          "influencerId": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          },
          "submission": {
            "type": "object"
          }
        }
      },
      "ApplicationApplyRequest": {
        "type": "object",
        "properties": {
          "state": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "DeliverableSubmitRequest": {
        "type": "object",
        "required": [
          "creativeUrl"
        ],
        "properties": {
          "creativeUrl": {
            "type": "string"
          }
        }
      },
      "Payout": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          },
          "grossAmount": {
            "type": "number"
          },
          "netAmount": {
            "type": "number"
          }
        }
      },
      "ApproveAndPayoutResponse": {
        "type": "object",
        "properties": {
          "app": {
            "$ref": "#/components/schemas/Application"
          },
          "payout": {
            "$ref": "#/components/schemas/Payout"
          }
        }
      },
      "InfluencerMe": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "idUlid": {
            "type": "string"
          },
          "handle": {
            "type": "string"
          },
          "profilePicUrl": {
            "type": "string"
          },
          "verificationStatus": {
            "type": "string"
          },
          "badges": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "InfluencerUpdateRequest": {
        "type": "object",
        "properties": {
          "handle": {
            "type": "string"
          },
          "bio": {
            "type": "string"
          },
          "countryId": {
            "type": "integer"
          },
          "stateId": {
            "type": "integer"
          },
          "stateIds": {
            "type": "array",
            "items": {
              "type": "integer"
            }
          },
          "districtId": {
            "type": "integer"
          },
          "addressLine1": {
            "type": "string"
          },
          "addressLine2": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          }
        }
      },
      "InfluencerPricing": {
        "type": "object",
        "properties": {
          "adPricing": {
            "type": "object",
            "additionalProperties": {
              "type": "number"
            }
          },
          "negotiable": {
            "type": "boolean"
          },
          "currency": {
            "type": "string",
            "example": "INR"
          },
          "notes": {
            "type": "string"
          }
        }
      },
      "ProfilePack": {
        "type": "object",
        "properties": {
          "packId": { "type": "string" },
          "name": { "type": "string" },
          "niche": { "type": "string" },
          "city": { "type": "string" },
          "shortBio": { "type": "string" },
          "longBio": { "type": "string" },
          "jsonLd": { "type": "object" },
          "images": { "type": "object", "properties": { "avatar": { "type": "string", "nullable": true }, "gallery": { "type": "array", "items": { "type": "string" } } } },
          "ai": { "type": "boolean" }
        }
      },
      "KycInput": {
        "type": "object",
        "properties": {
          "fullName": {
            "type": "string"
          },
          "dob": {
            "type": "string",
            "description": "YYYY-MM-DD"
          },
          "pan": {
            "type": "string"
          },
          "aadhaarNumber": { "type": "string", "description": "Will be hashed; last4 stored" },
          "addressLine1": {
            "type": "string"
          },
          "addressLine2": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "state": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "documents": {
            "type": "object"
          },
          "photoUrl": { "type": "string" },
          "panPhotoUrl": { "type": "string" },
          "aadhaarPhotoUrl": { "type": "string" },
          "consent": {
            "type": "boolean"
          }
        },
        "example": {
          "fullName": "Rukmini",
          "dob": "2001-01-01",
          "pan": "ABCDE1234F",
          "aadhaarNumber": "123412341234",
          "addressLine1": "Line 1",
          "addressLine2": "Line 2",
          "postalCode": "500089",
          "city": "Nellore",
          "state": "Andhra Pradesh",
          "country": "India",
          "photoUrl": "https://cdn.example.com/kyc/selfie.jpg",
          "panPhotoUrl": "https://cdn.example.com/kyc/pan.jpg",
          "aadhaarPhotoUrl": "https://cdn.example.com/kyc/aadhaar.jpg",
          "consent": true
        }
      },
      "KycOutput": {
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "kyc": {
            "type": "object"
          },
          "meta": {
            "type": "object"
          }
        }
      },
      "PaymentMethod": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "type": {
            "type": "string",
            "enum": [
              "bank",
              "upi"
            ]
          },
          "accountHolderName": {
            "type": "string"
          },
          "bankName": {
            "type": "string"
          },
          "bankIfsc": {
            "type": "string"
          },
          "bankAccountNumberMasked": {
            "type": "string"
          },
          "upiIdMasked": {
            "type": "string"
          },
          "isPreferred": {
            "type": "boolean"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "PaymentMethodInput": {
        "type": "object",
        "properties": {
          "type": { "type": "string", "enum": ["bank","upi"] },
          "accountHolderName": { "type": "string" },
          "bankName": { "type": "string" },
          "bankIfsc": { "type": "string" },
          "bankAccountNumber": { "type": "string" },
          "upiId": { "type": "string" },
          "isPreferred": { "type": "boolean" }
        },
        "example": {
          "type": "bank",
          "accountHolderName": "Rukmini",
          "bankName": "SBI",
          "bankIfsc": "SBIN0001234",
          "bankAccountNumber": "123456789012",
          "isPreferred": true
        }
      },
      "Post": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "idUlid": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "caption": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string"
          },
          "states": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "media": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MediaEntry"
            }
          }
        }
      },
      "CreatePostRequest": {
        "type": "object",
        "required": [
          "type"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "ad",
              "external",
              "portfolio"
            ]
          },
          "caption": {
            "type": "string"
          },
          "categories": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "language": {
            "type": "string"
          },
          "states": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "media": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MediaEntry"
            }
          },
          "adId": {
            "type": "integer"
          }
        }
      },
      "MediaEntry": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "guid": {
            "type": "string"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "InfluencerAdMediaItem": {
        "type": "object",
        "properties": {
          "ulid": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "guid": {
            "type": "string"
          },
          "playbackUrl": {
      "InfluencerAdVideoUploadResponse": {
        "type": "object",
        "properties": {
          "guid": { "type": "string" },
          "uploadUrl": { "type": ["string", "null"], "description": "Bunny uploadUrl (legacy flow)." },
          "playbackUrl": { "type": "string" },
          "postIdUlid": { "type": "string" },
          "categories": { "type": "array", "items": { "type": "string" } },
          "uploaded": { "type": "boolean" },
          "size": { "type": ["integer", "null"] },
          "metaApplied": { "type": "boolean" },
          "bunnyMetaUpdated": { "type": "boolean" }
        }
      },
            "type": "string"
          },
          "thumbnailUrl": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "sizeBytes": {
            "type": "integer"
          },
          "durationSec": {
            "type": "number"
          },
          "post": {
            "type": "object"
          },
          "influencer": {
            "type": "object"
          },
          "ad": {
            "type": "object"
          }
        }
      },
      "R2SignRequest": {
        "type": "object",
        "required": [
          "filename",
          "contentType"
        ],
        "properties": {
          "filename": {
            "type": "string"
          },
          "contentType": {
            "type": "string"
          },
          "folder": {
            "type": "string"
          }
        }
      },
      "R2SignResponse": {
        "type": "object",
        "properties": {
          "uploadUrl": {
            "type": "string"
          },
          "publicUrl": {
            "type": "string"
          },
          "key": {
            "type": "string"
          },
          "headers": {
            "type": "object"
          }
        }
      },
      "BunnyCreateResponse": {
        "type": "object",
        "properties": {
          "guid": {
            "type": "string"
          },
          "uploadUrl": {
            "type": "string"
          },
          "playbackUrl": {
            "type": "string"
          }
        }
      },
      "MediaUploadResponse": {
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "key": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "sizeMB": {
            "type": "number"
          }
        }
      },
      "Category": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "purpose": {
            "type": "string"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "Country": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "iso2": {
            "type": "string"
          }
        }
      },
      "State": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "countryId": {
            "type": "integer"
          }
        }
      },
      "District": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "stateId": {
            "type": "integer"
          }
        }
      },
      "Language": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "DiscoveryInfluencer": {
        "type": "object",
        "properties": {
          "idUlid": {
            "type": "string"
          },
          "handle": {
            "type": "string"
          },
          "profilePicUrl": {
            "type": "string"
          },
          "score": {
            "type": "number"
          }
        }
      }
    }
  }
}
